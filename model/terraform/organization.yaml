kind: Struct
metadata:
  name: OrganizationSpec
  group: terraform.cisco.com
  version: v1
spec:
  props:
    - prop: Name
      type: string
    - prop: CollaboratorAuthPolicy
      type: string
    - prop: CostEstimationEnabled
      type: bool
    - prop: CreatedAt
      type: string
    - prop: Email
      type: string
    - prop: ExternalID 
      type: string
    - prop: OwnersTeamSAMLRoleI
      type: string
    - prop: Permissions
      type: v1.OrganizationPermissions
    - prop: SAMLEnabled
      type: bool
    - prop: SessionRemember
      type: int
    - prop: SessionTimeout
      type: int
    - prop: TrialExpiresAt
      type: string
    - prop: TwoFactorConformant
      type: bool
    - prop: Usage
      type: v1.OrganizationUsage
---
kind: Struct
metadata:
  name: OrganizationPermissions
  group: terraform.cisco.com
  version: v1
spec:
  props:
    - prop: CanCreateTeam
      type: bool
    - prop: CanCreateWorkspace
      type: bool
    - prop: CanCreateWorkspaceMigration
      type: bool
    - prop: CanDestroy
      type: bool
    - prop: CanTraverse
      type: bool
    - prop: CanUpdate
      type: bool
    - prop: CanUpdateAPIToken
      type: bool
    - prop: CanUpdateOAuth
      type: bool
    - prop: CanUpdateSentinel
      type: bool
---
kind: Struct
metadata:
  name: OrganizationUsage
  group: terraform.cisco.com
  version: v1
spec:
  props:
    - prop: ActiveAgentCount
      type: int
    - prop: AdminUserCount
      type: int
    - prop: AverageAppliesPerMonth
      type: int
    - prop: ConcurrencyLimitReached
      type: int
    - prop: TotalApplies
      type: int
    - prop: WorkspaceCount
      type: int
---
kind: Resource
metadata:
  name: Organization
  group: terraform.cisco.com
  version: v1
spec:
  spec:
    type: v1.OrganizationSpec
  pkey: spec.Name
  apimethods:
    - apimethod: GET
      override: true
---
kind: ResourceHandler
metadata:
  name: OrganizationHandler
spec:
  resource: terraform.cisco.com/v1.Organization
  operations:
    - CREATE
  retryStrategy:
    delay: 500
  concurrencyKey: organization
  function: golang.cisco.com/terraform/pkg/handlers.OrganizationHandler
  specStatusDiscriminator: both
